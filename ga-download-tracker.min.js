/*
 * Google Analytics Download Tracker
 * https://github.com/bjarte/ga-download-tracker
 * 
 * Version 1.1.0
 * 
 * GADT sends a virtual pageview and an event to Google Analytics 
 * when a user clicks a link to download a file.
 * 
 * Copyright (c) 2017 Bjarte Aune Olsen (https://basementmedia.no)
 * 
 * Licensed under the MIT (http://en.wikipedia.org/wiki/MIT_License) license.
 * 
 * Inspired by Entourage.js by Tian Davis (http://techoctave.com/c7)
 */
!function(){var e=function(){var e=/\.pdf$|\.zip$|\.od*|\.doc*|\.xls*|\.ppt*|\.exe$|\.dmg$|\.mp\d$|\.mov$|\.avi$|\.wav$|\.ogg$/i,n=function(n){var o=this;if(null!==o.href&&0!==o.href.length){if("undefined"==typeof ga||null===ga||ga.loaded!==!0)return void console.log("Google Analytics is not loaded, cannot track download of file: "+o.pathname);var t=o.pathname;if(t.search(e)!==-1&&(t=t.substring(t.lastIndexOf("/")+1,t.length),0!==t.length)){n.preventDefault();var a=!1,l=!1;ga("send",{hitType:"event",eventCategory:"Downloaded file",eventAction:t,eventLabel:o.pathname,hitCallback:function(){console.log("Google Analytics tracked download of file as event: "+o.pathname),l=!0,a&&(document.location.href=o.href)}}),ga("send",{hitType:"pageview",page:o.pathname,title:t,hitCallback:function(){console.log("Google Analytics tracked download of file as pageview: "+o.pathname),a=!0,l&&(document.location.href=o.href)}}),setTimeout(function(){console.log("Google Analytics didn't respond, cannot track download of file: "+o.pathname),document.location.href=o.href},3e3)}}},o=function(){for(var e=document.links,o=e.length,t=0;t<o;t++)e[t].onclick=n};return{init:o,track:n}}();window.gadt=e,window.onload=e.init}();
//# sourceMappingURL=ga-download-tracker.min.js.map
